<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Speed Up Exploratory Data Analysis (EDA) with the Correlation Funnel • correlationfunnel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Speed Up Exploratory Data Analysis (EDA) with the Correlation Funnel">
<meta property="og:description" content="
    Speeds up exploratory data analysis (EDA)
    by providing a succinct workflow and interactive visualization tools for understanding
    which features have relationships to target (response). Uses binary correlation analysis
    to determine relationship. Default correlation method is the Pearson method. 
    Lian Duan, W Nick Street, Yanchi Liu, Songhua Xu, and Brook Wu (2014) &lt;doi:10.1145/2637484&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-76139189-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76139189-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">correlationfunnel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="reference/index.html">Function Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/introducing_correlation_funnel.html">Introducing Correlation Funnel - Customer Churn Example</a>
    </li>
    <li>
      <a href="articles/key_considerations.html">Key Considerations &amp; FAQs</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/business-science/correlationfunnel">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="correlationfunnel-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#correlationfunnel-" class="anchor"></a>correlationfunnel <img src="reference/figures/logo-correlationfunnel.png" width="147" height="170" align="right">
</h1></div>
<p><em>by <a href="https://www.business-science.io/">Business Science</a></em></p>
<p><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a> <a href="https://travis-ci.org/business-science/correlationfunnel"><img src="https://travis-ci.org/business-science/correlationfunnel.svg?branch=master" alt="Travis build status"></a> <a href="https://codecov.io/github/business-science/correlationfunnel?branch=master"><img src="https://codecov.io/gh/business-science/correlationfunnel/branch/master/graph/badge.svg" alt="Coverage status"></a> <a href="https://cran.r-project.org/package=correlationfunnel"><img src="http://www.r-pkg.org/badges/version/correlationfunnel" alt="CRAN_Status_Badge"></a> <img src="http://cranlogs.r-pkg.org/badges/correlationfunnel?color=brightgreen"><img src="http://cranlogs.r-pkg.org/badges/grand-total/correlationfunnel?color=brightgreen"></p>
<blockquote>
<p>Speed Up Exploratory Data Analysis (EDA)</p>
</blockquote>
<p>The goal of <code>correlationfunnel</code> is to speed up Exploratory Data Analysis (EDA). Here’s how to use it.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the latest stable (CRAN) version of <code>correlationfunnel</code> with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"correlationfunnel"</span>)</pre></div>
<p>You can install the development version of <code>correlationfunnel</code> from <a href="https://github.com/business-science/">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"business-science/correlationfunnel"</span>)</pre></div>
</div>
<div id="correlation-funnel-in-2-minutes" class="section level2">
<h2 class="hasAnchor">
<a href="#correlation-funnel-in-2-minutes" class="anchor"></a>Correlation Funnel in 2-Minutes</h2>
<p><strong>Problem</strong>: Exploratory data analysis (EDA) involves looking at feature-target relationships independently. This process is very time consuming even for small data sets. <strong><em>Rather than search for relationships, what if we could let the relationships come to us?</em></strong></p>
<p><img src="reference/figures/README-corr_funnel.png" width="35%" align="right" style="border-style: solid; border-width: 2px; border-color: #2c3e50; margin-left: 10px; "></p>
<p><strong>Solution:</strong> Enter <code>correlationfunnel</code>. The package provides a <strong>succinct workflow</strong> and <strong>interactive visualization tools</strong> for understanding which features have relationships to target (response).</p>
<p><strong>Main Benefits</strong>:</p>
<ol>
<li><p><strong>Speeds Up Exploratory Data Analysis</strong></p></li>
<li><p><strong>Improves Feature Selection</strong></p></li>
<li><p><strong>Gets You To Business Insights Faster</strong></p></li>
</ol>
</div>
<div id="example---bank-marketing-campaign" class="section level2">
<h2 class="hasAnchor">
<a href="#example---bank-marketing-campaign" class="anchor"></a>Example - Bank Marketing Campaign</h2>
<p>The following example showcases the power of <strong>fast exploratory correlation analysis</strong>. The goal of the analysis is to determine which features relate to the bank’s marketing campaign goal of having customers opt into a TERM DEPOSIT (financial product).</p>
<p>We will see that using <strong>3 functions</strong>, we can quickly:</p>
<ol>
<li><p>Transform the data into a binary format with <code><a href="reference/binarize.html">binarize()</a></code></p></li>
<li><p>Perform correlation analysis using <code><a href="reference/correlate.html">correlate()</a></code></p></li>
<li><p>Visualize the highest correlation features using <code><a href="reference/plot_correlation_funnel.html">plot_correlation_funnel()</a></code></p></li>
</ol>
<p><strong>Result</strong>: Rather than spend hours looking at individual plots of capaign features and comparing them to which customers opted in to the TERM DEPOSIT product, in seconds we can discover which groups of customers have enrolled, drastically speeding up EDA.</p>
<div id="getting-started" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h3>
<p>First, load the libraries.</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">correlationfunnel</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)</pre></div>
<p>Next, collect data to analyze. We’ll use Marketing Campaign Data for a Bank that was popularized by the <a href="https://archive.ics.uci.edu/ml/datasets/Bank+Marketing">UCI Machine Learning Repository</a>. We can load the data with <code><a href="https://rdrr.io/r/utils/data.html">data("marketing_campaign_tbl")</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="co"># Use ?marketing_campagin_tbl to get a description of the marketing campaign features</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"marketing_campaign_tbl"</span>)

<span class="no">marketing_campaign_tbl</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>()
<span class="co">#&gt; Observations: 45,211</span>
<span class="co">#&gt; Variables: 18</span>
<span class="co">#&gt; $ ID           &lt;chr&gt; "2836", "2837", "2838", "2839", "2840", "2841", "28…</span>
<span class="co">#&gt; $ AGE          &lt;dbl&gt; 58, 44, 33, 47, 33, 35, 28, 42, 58, 43, 41, 29, 53,…</span>
<span class="co">#&gt; $ JOB          &lt;chr&gt; "management", "technician", "entrepreneur", "blue-c…</span>
<span class="co">#&gt; $ MARITAL      &lt;chr&gt; "married", "single", "married", "married", "single"…</span>
<span class="co">#&gt; $ EDUCATION    &lt;chr&gt; "tertiary", "secondary", "secondary", "unknown", "u…</span>
<span class="co">#&gt; $ DEFAULT      &lt;chr&gt; "no", "no", "no", "no", "no", "no", "no", "yes", "n…</span>
<span class="co">#&gt; $ BALANCE      &lt;dbl&gt; 2143, 29, 2, 1506, 1, 231, 447, 2, 121, 593, 270, 3…</span>
<span class="co">#&gt; $ HOUSING      &lt;chr&gt; "yes", "yes", "yes", "yes", "no", "yes", "yes", "ye…</span>
<span class="co">#&gt; $ LOAN         &lt;chr&gt; "no", "no", "yes", "no", "no", "no", "yes", "no", "…</span>
<span class="co">#&gt; $ CONTACT      &lt;chr&gt; "unknown", "unknown", "unknown", "unknown", "unknow…</span>
<span class="co">#&gt; $ DAY          &lt;dbl&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, …</span>
<span class="co">#&gt; $ MONTH        &lt;chr&gt; "may", "may", "may", "may", "may", "may", "may", "m…</span>
<span class="co">#&gt; $ DURATION     &lt;dbl&gt; 261, 151, 76, 92, 198, 139, 217, 380, 50, 55, 222, …</span>
<span class="co">#&gt; $ CAMPAIGN     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ PDAYS        &lt;dbl&gt; -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,…</span>
<span class="co">#&gt; $ PREVIOUS     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span>
<span class="co">#&gt; $ POUTCOME     &lt;chr&gt; "unknown", "unknown", "unknown", "unknown", "unknow…</span>
<span class="co">#&gt; $ TERM_DEPOSIT &lt;chr&gt; "no", "no", "no", "no", "no", "no", "no", "no", "no…</span></pre></div>
</div>
<div id="response--predictor-relationships" class="section level3">
<h3 class="hasAnchor">
<a href="#response--predictor-relationships" class="anchor"></a>Response &amp; Predictor Relationships</h3>
<p>Modeling and Machine Learning problems often involve a response (Enrolled in <code>TERM_DEPOSIT</code>, yes/no) and many predictors (AGE, JOB, MARITAL, etc). Our job is to determine which predictors are related to the response. We can do this through <strong>Binary Correlation Analysis</strong>.</p>
</div>
<div id="binary-correlation-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#binary-correlation-analysis" class="anchor"></a>Binary Correlation Analysis</h3>
<p>Binary Correlation Analysis is the process of converting continuous (numeric) and categorical (character/factor) data to binary features. We can then perform a correlation analysis to see if there is predictive value between the features and the response (target).</p>
<div id="step-1-convert-to-binary-format" class="section level4">
<h4 class="hasAnchor">
<a href="#step-1-convert-to-binary-format" class="anchor"></a>Step 1: Convert to Binary Format</h4>
<p>The first step is converting the continuous and categorical data into binary (0/1) format. We de-select any non-predictive features. The <code><a href="reference/binarize.html">binarize()</a></code> function then converts the features into binary features.</p>
<ul>
<li><p><strong>Numeric Features:</strong> Are binned into ranges or if few unique levels are binned by their value, and then converted to binary features via one-hot encoding</p></li>
<li><p><strong>Categorical Features</strong>: Are binned by one-hot encoding</p></li>
</ul>
<p>The result is a data frame that has only binary data with columns representing the bins that the observations fall into. Note that the output is shown in the <code><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse()</a></code> format. THere are now 80 columns that are binary (0/1).</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="no">marketing_campaign_binarized_tbl</span> <span class="kw">&lt;-</span> <span class="no">marketing_campaign_tbl</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(-<span class="no">ID</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="reference/binarize.html">binarize</a></span>(<span class="kw">n_bins</span> <span class="kw">=</span> <span class="fl">4</span>, <span class="kw">thresh_infreq</span> <span class="kw">=</span> <span class="fl">0.01</span>)

<span class="no">marketing_campaign_binarized_tbl</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>()
<span class="co">#&gt; Observations: 45,211</span>
<span class="co">#&gt; Variables: 74</span>
<span class="co">#&gt; $ `AGE__-Inf_33`       &lt;dbl&gt; 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0…</span>
<span class="co">#&gt; $ AGE__33_39           &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ AGE__39_48           &lt;dbl&gt; 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ AGE__48_Inf          &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1…</span>
<span class="co">#&gt; $ JOB__admin.          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0…</span>
<span class="co">#&gt; $ `JOB__blue-collar`   &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ JOB__entrepreneur    &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ JOB__housemaid       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ JOB__management      &lt;dbl&gt; 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ JOB__retired         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ `JOB__self-employed` &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ JOB__services        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1…</span>
<span class="co">#&gt; $ JOB__student         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ JOB__technician      &lt;dbl&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0…</span>
<span class="co">#&gt; $ JOB__unemployed      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ `JOB__-OTHER`        &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MARITAL__divorced    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MARITAL__married     &lt;dbl&gt; 1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 1, 1, 1…</span>
<span class="co">#&gt; $ MARITAL__single      &lt;dbl&gt; 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0…</span>
<span class="co">#&gt; $ EDUCATION__primary   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ EDUCATION__secondary &lt;dbl&gt; 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1…</span>
<span class="co">#&gt; $ EDUCATION__tertiary  &lt;dbl&gt; 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ EDUCATION__unknown   &lt;dbl&gt; 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0…</span>
<span class="co">#&gt; $ DEFAULT__no          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ DEFAULT__yes         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ `BALANCE__-Inf_72`   &lt;dbl&gt; 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0…</span>
<span class="co">#&gt; $ BALANCE__72_448      &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 1, 0, 0, 1…</span>
<span class="co">#&gt; $ BALANCE__448_1428    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ BALANCE__1428_Inf    &lt;dbl&gt; 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ HOUSING__no          &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ HOUSING__yes         &lt;dbl&gt; 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ LOAN__no             &lt;dbl&gt; 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ LOAN__yes            &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ CONTACT__cellular    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ CONTACT__telephone   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ CONTACT__unknown     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ `DAY__-Inf_8`        &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ DAY__8_16            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ DAY__16_21           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ DAY__21_Inf          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__apr           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__aug           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__feb           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__jan           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__jul           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__jun           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__mar           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__may           &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ MONTH__nov           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__oct           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ MONTH__sep           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ `MONTH__-OTHER`      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ `DURATION__-Inf_103` &lt;dbl&gt; 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0…</span>
<span class="co">#&gt; $ DURATION__103_180    &lt;dbl&gt; 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1…</span>
<span class="co">#&gt; $ DURATION__180_319    &lt;dbl&gt; 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ DURATION__319_Inf    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0…</span>
<span class="co">#&gt; $ `CAMPAIGN__-Inf_2`   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ CAMPAIGN__2_3        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ CAMPAIGN__3_Inf      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ `PDAYS__-1`          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ `PDAYS__-OTHER`      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ PREVIOUS__0          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ PREVIOUS__1          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ PREVIOUS__2          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ PREVIOUS__3          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ PREVIOUS__4          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ PREVIOUS__5          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ `PREVIOUS__-OTHER`   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ POUTCOME__failure    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ POUTCOME__other      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ POUTCOME__success    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ POUTCOME__unknown    &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ TERM_DEPOSIT__no     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ TERM_DEPOSIT__yes    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span></pre></div>
</div>
<div id="step-2-perform-correlation-analysis" class="section level4">
<h4 class="hasAnchor">
<a href="#step-2-perform-correlation-analysis" class="anchor"></a>Step 2: Perform Correlation Analysis</h4>
<p>The second step is to perform a correlation analysis between the response (target = TERM_DEPOSIT_yes) and the rest of the features. This returns a specially formatted tibble with the feature, the bin, and the bin’s correlation to the target. The format is exactly what we need for the next step - Producing the <strong>Correlation Funnel</strong></p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="no">marketing_campaign_correlated_tbl</span> <span class="kw">&lt;-</span> <span class="no">marketing_campaign_binarized_tbl</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="reference/correlate.html">correlate</a></span>(<span class="kw">target</span> <span class="kw">=</span> <span class="no">TERM_DEPOSIT__yes</span>)

<span class="no">marketing_campaign_correlated_tbl</span>
<span class="co">#&gt; # A tibble: 74 x 3</span>
<span class="co">#&gt;    feature      bin      correlation</span>
<span class="co">#&gt;    &lt;fct&gt;        &lt;chr&gt;          &lt;dbl&gt;</span>
<span class="co">#&gt;  1 TERM_DEPOSIT no            -1.000</span>
<span class="co">#&gt;  2 TERM_DEPOSIT yes            1.000</span>
<span class="co">#&gt;  3 DURATION     319_Inf        0.318</span>
<span class="co">#&gt;  4 POUTCOME     success        0.307</span>
<span class="co">#&gt;  5 DURATION     -Inf_103      -0.191</span>
<span class="co">#&gt;  6 PDAYS        -OTHER         0.167</span>
<span class="co">#&gt;  7 PDAYS        -1            -0.167</span>
<span class="co">#&gt;  8 PREVIOUS     0             -0.167</span>
<span class="co">#&gt;  9 POUTCOME     unknown       -0.167</span>
<span class="co">#&gt; 10 CONTACT      unknown       -0.151</span>
<span class="co">#&gt; # … with 64 more rows</span></pre></div>
</div>
<div id="step-3-visualize-the-correlation-funnel" class="section level4">
<h4 class="hasAnchor">
<a href="#step-3-visualize-the-correlation-funnel" class="anchor"></a>Step 3: Visualize the Correlation Funnel</h4>
<p>A <strong>Correlation Funnel</strong> is an tornado plot that lists the highest correlation features (based on absolute magnitude) at the top of the and the lowest correlation features at the bottom. The resulting visualization looks like a Funnel.</p>
<p>To produce the <strong>Correlation Funnel</strong>, use <code><a href="reference/plot_correlation_funnel.html">plot_correlation_funnel()</a></code>. Try setting <code>interactive = TRUE</code> to get an interactive plot that can be zoomed in on.</p>
<div class="sourceCode" id="cb7"><pre class="r"><span class="no">marketing_campaign_correlated_tbl</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="reference/plot_correlation_funnel.html">plot_correlation_funnel</a></span>(<span class="kw">interactive</span> <span class="kw">=</span> <span class="fl">FALSE</span>)</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="100%"></p>
</div>
</div>
<div id="examining-the-results" class="section level3">
<h3 class="hasAnchor">
<a href="#examining-the-results" class="anchor"></a>Examining the Results</h3>
<p>The most important features are towards the top. We can investigate these.</p>
<div class="sourceCode" id="cb8"><pre class="r"><span class="no">marketing_campaign_correlated_tbl</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">feature</span> <span class="kw">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"DURATION"</span>, <span class="st">"POUTCOME"</span>, <span class="st">"PDAYS"</span>,
                          <span class="st">"PREVIOUS"</span>, <span class="st">"CONTACT"</span>, <span class="st">"HOUSING"</span>)) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="reference/plot_correlation_funnel.html">plot_correlation_funnel</a></span>(<span class="kw">interactive</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(-<span class="fl">0.4</span>, <span class="fl">0.4</span>))</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-6-1.png" width="100%"></p>
<p>We can see that the following prospect groups have a much greater correlation with enrollment in the TERM DEPOSIT product:</p>
<ul>
<li><p>When the DURATION, the amount of time a prospect is engaged in marketing campaign material, is 319 seconds or longer.</p></li>
<li><p>When POUTCOME, whether or not a prospect has previously enrolled in a product, is “success”.</p></li>
<li><p>When CONTACT, the medium used to contact the person, is “cellular”</p></li>
<li><p>When HOUSING, whether or not the contact has a HOME LOAN is “no”</p></li>
</ul>
</div>
</div>
<div id="other-great-eda-packages-in-r" class="section level2">
<h2 class="hasAnchor">
<a href="#other-great-eda-packages-in-r" class="anchor"></a>Other Great EDA Packages in R</h2>
<p>The main addition of <code>correlationfunnel</code> is to quickly expose feature relationships to semi-processed data meaning missing (<code>NA</code>) values have been treated, date or date-time features have been feature engineered, and data is in a “clean” format (numeric data and categorical data are ready to be correlated to a Yes/No response).</p>
<p>Here are several great EDA packages that can help you understand data issues (cleanliness) and get data preprared for Correlation Analysis!</p>
<ul>
<li><p><a href="https://boxuancui.github.io/DataExplorer/">Data Explorer</a> - Automates Exploration and Data Treatment. Amazing for investigating features quickly and efficiently including by data type, missing data, feature engineering, and identifying relationships.</p></li>
<li><p><a href="http://naniar.njtierney.com/">naniar</a> - For understanding missing data.</p></li>
<li><p><a href="https://github.com/hms-dbmi/UpSetR">UpSetR</a> - For generating upset plots</p></li>
<li><p><a href="https://ggobi.github.io/ggally/">GGally</a> - The <code>ggpairs()</code> function is one of my all-time favorites for visualizing many features quickly.</p></li>
</ul>
</div>
<div id="using-correlation-funnel-you-might-be-interested-in-applied-business-education" class="section level2">
<h2 class="hasAnchor">
<a href="#using-correlation-funnel-you-might-be-interested-in-applied-business-education" class="anchor"></a>Using Correlation Funnel? You Might Be Interested in Applied Business Education</h2>
<p><a href="https://www.business-science.io/"><strong><em>Business Science</em></strong></a> teaches students how to apply data science for business. The entire curriculum is crafted around business consulting with data science. <em>Correlation Analysis</em> is one of the many techniques that we teach in our curriculum. <strong>Learn from our data science application experience with real-world business projects.</strong></p>
<div id="learn-from-real-world-business-projects" class="section level3">
<h3 class="hasAnchor">
<a href="#learn-from-real-world-business-projects" class="anchor"></a>Learn from Real-World Business Projects</h3>
<p>Students learn by solving real world projects using our repeatable project-management framework along with cutting-edge tools like the Correlation Analysis, Automated Machine Learning, and Feature Explanation as part of our ROI-Driven Data Science Curriculum.</p>
<p><a href="https://university.business-science.io/p/machine-learning-web-apps-level-1-bundle-r-track-courses-101-102-201"><img src="reference/figures/README-3-course-system.jpg" width="100%" style="border-style: solid; border-width: 2px; border-color: #2c3e50"></a></p>
<ul>
<li><p><a href="https://university.business-science.io/p/ds4b-101-r-business-analysis-r"><strong>Learn Data Science Foundations (DS4B 101-R)</strong></a>: Learn the entire <code>tidyverse</code> (<code>dplyr</code>, <code>ggplot2</code>, <code>rmarkdown</code>, &amp; more) and <code>parsnip</code> - Solve 2 Projects - Customer Segmentation and Price Optimization projects</p></li>
<li><p><a href="https://university.business-science.io/p/hr201-using-machine-learning-h2o-lime-to-predict-employee-turnover/"><strong>Learn Advanced Machine Learning &amp; Business Consulting (DS4B 201-R)</strong></a>: Churn Project solved with Correlation Analysis, <code>H2O</code> AutoML, <code>LIME</code> Feature Explanation, and ROI-driven Analysis / Recommendation Systems</p></li>
<li><p><a href="https://university.business-science.io/p/ds4b-102-r-shiny-web-application-business-level-1/"><strong>Learn Predictive Web Application Development (DS4B 102-R)</strong></a>: Build 2 Predictive <code>Shiny</code> Web Apps - Sales Dashboard with Demand Forecasting &amp; Price Prediction App</p></li>
</ul>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=correlationfunnel">https://​cloud.r-project.org/​package=correlationfunnel</a>
</li>
<li>Browse source code at <br><a href="https://github.com/business-science/correlationfunnel/">https://​github.com/​business-science/​correlationfunnel/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/business-science/correlationfunnel/issues">https://​github.com/​business-science/​correlationfunnel/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Matt Dancho <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Matt Dancho.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
